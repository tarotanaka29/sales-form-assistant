# プロファイル管理機能ガイド

## 概要

営業フォーム自動入力アシスタントでは、**最大10個の設定プロファイル**を保存できます。複数のクライアントや案件ごとに異なる情報を管理し、簡単に切り替えることができます。

## 主な機能

### 1. プロファイルの作成

設定画面の「プロファイル管理」セクションで、新しいプロファイルを作成できます。

**手順:**
1. 設定画面を開く
2. 「➕ 新規作成」ボタンをクリック
3. プロファイル名を入力（例: 「株式会社A」「案件B」）
4. OKをクリック

**制限:**
- 最大10個まで保存可能
- 10個に達すると新規作成できません

### 2. プロファイルの切り替え

設定画面またはポップアップから、使用するプロファイルを切り替えられます。

**設定画面から:**
1. 「現在のプロファイル」ドロップダウンをクリック
2. 使用したいプロファイルを選択
3. フォームに選択したプロファイルの情報が読み込まれます

**ポップアップから:**
1. 拡張機能アイコンをクリック
2. 「プロファイル」ドロップダウンから選択
3. 自動入力時に選択したプロファイルの情報が使用されます

### 3. プロファイル名の変更

既存のプロファイルの名前を変更できます。

**手順:**
1. 設定画面で変更したいプロファイルを選択
2. 「✏️ 名前変更」ボタンをクリック
3. 新しい名前を入力
4. OKをクリック

### 4. プロファイルの削除

不要になったプロファイルを削除できます。

**手順:**
1. 設定画面で削除したいプロファイルを選択
2. 「🗑️ 削除」ボタンをクリック
3. 確認ダイアログでOKをクリック

**注意:**
- 最後の1つのプロファイルは削除できません
- 削除したプロファイルは復元できません

### 5. プロファイルの保存

各プロファイルの情報は自動的に保存されます。

**保存されるタイミング:**
- 「設定を保存」ボタンをクリックしたとき
- 現在選択中のプロファイルに上書き保存されます

## 使用例

### ケース1: 複数のクライアント管理

```
プロファイル1: 株式会社A
- 会社名: 株式会社A
- 担当者: 田中太郎
- メール: tanaka@company-a.com

プロファイル2: 株式会社B  
- 会社名: 株式会社B
- 担当者: 佐藤花子
- メール: sato@company-b.com
```

### ケース2: 案件ごとの管理

```
プロファイル1: 新規開拓用
- 問い合わせ内容: 新規取引のご提案

プロファイル2: 既存顧客フォロー用
- 問い合わせ内容: 継続取引のご相談
```

### ケース3: 部署ごとの管理

```
プロファイル1: 営業部
- 部署: 営業部
- 役職: 営業担当

プロファイル2: マーケティング部
- 部署: マーケティング部  
- 役職: マーケティング担当
```

## プロファイル管理のベストプラクティス

### 1. わかりやすい名前を付ける

❌ 悪い例:
- プロファイル1
- テスト
- 新規

✅ 良い例:
- 株式会社ABC_田中
- 新規開拓_IT業界向け
- 既存顧客_フォローアップ用

### 2. 定期的に整理する

- 使わなくなったプロファイルは削除
- 情報が古くなったプロファイルは更新
- 最大10個の制限を意識して管理

### 3. プロファイルの用途を明確にする

- クライアント別
- 案件別
- 用途別（新規開拓、既存フォロー等）

## トラブルシューティング

### Q: プロファイルが表示されない

**A:** 拡張機能を再読み込みしてください
1. Chromeの拡張機能ページ（chrome://extensions/）を開く
2. 更新ボタンをクリック

### Q: プロファイルが10個以上作れない

**A:** これは仕様です
- 最大10個の制限があります
- 不要なプロファイルを削除してから新規作成してください

### Q: プロファイルを削除したら復元できない

**A:** 削除したプロファイルは復元できません
- 削除前に必要な情報をメモしておくことをお勧めします
- 重要なプロファイルは名前を変更して保管することも検討してください

### Q: プロファイルの情報が保存されない

**A:** 以下を確認してください
1. 「設定を保存」ボタンをクリックしたか
2. 正しいプロファイルが選択されているか
3. Chromeのストレージ容量が十分にあるか

## 技術仕様

### ストレージ構造

```javascript
{
  profiles: {
    "profile_1234567890": {
      id: "profile_1234567890",
      name: "株式会社A",
      data: { /* フォームデータ */ },
      createdAt: "2025-10-14T00:00:00.000Z",
      updatedAt: "2025-10-14T00:00:00.000Z"
    },
    // ... 最大10個
  },
  currentProfileId: "profile_1234567890"
}
```

### API

プロファイル管理は`Storage`オブジェクトを通じて行います:

```javascript
// プロファイル作成
await Storage.createNewProfile(name);

// プロファイル切り替え
await Storage.setCurrentProfileId(profileId);

// プロファイル削除
await Storage.deleteProfile(profileId);

// プロファイル名変更
await Storage.renameProfile(profileId, newName);

// 全プロファイル取得
const profiles = await Storage.getAllProfiles();
```

## まとめ

プロファイル管理機能を使うことで、複数のクライアントや案件の情報を効率的に管理できます。最大10個のプロファイルを活用して、営業活動をさらに効率化しましょう。

